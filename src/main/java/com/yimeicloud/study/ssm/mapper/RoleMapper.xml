<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yimeicloud.study.ssm.dao.RoleDao">
	<resultMap id="BaseResultMap" type="com.yimeicloud.study.ssm.model.Role">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Wed Jul 20 
			16:06:00 CST 2016. -->
		<id column="id" jdbcType="BIGINT" property="id" />
		<result column="role" jdbcType="VARCHAR" property="role" />
		<result column="description" jdbcType="VARCHAR" property="description" />
		<result column="available" jdbcType="BIT" property="available" />
		<result column="create_date" jdbcType="TIMESTAMP" property="createDate" />
		<result column="update_date" jdbcType="TIMESTAMP" property="updateDate" />
	</resultMap>
	<sql id="Base_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. This element was generated on Wed Jul 20 
			16:06:00 CST 2016. -->
		id, role, description, available, create_date, update_date
	</sql>
	<select id="selectByName" parameterType="String" resultType="String">
		select r.role from roles r, users u, users_roles ur
		where u.id = ur.user_id
		and r.id = ur.role_id
		and u.username = #{name,jdbcType=VARCHAR}
	</select>
</mapper>